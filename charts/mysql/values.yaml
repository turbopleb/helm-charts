# MySQL values.yaml (ArgoCD + K8s ready, using existingSecret)

image:
  repository: mysql
  tag: "8.0"
  pullPolicy: IfNotPresent

# Database credentials are now in the secret
mysqlRootPassword: ""
mysqlUser: ""
mysqlPassword: ""
mysqlDatabase: ""

# Service configuration
service:
  type: ClusterIP
  port: 3306

# Storage configuration
storage:
  enabled: true
  storageClass: "microk8s-hostpath"
  accessMode: ReadWriteOnce
  size: 10Gi
  name: mysql-data  # ensures PVC/volume have a valid name
  persistentVolumeClaimRetentionPolicy:
    whenDeleted: Retain
    whenScaled: Retain

# Use the existing Kubernetes Secret
settings:
  existingSecret: "mysql-secret"

# ServiceAccount block
serviceAccount:
  create: true
  name: ""

# Probes for stability
livenessProbe:
  enabled: true
  initialDelaySeconds: 30
  periodSeconds: 10

readinessProbe:
  enabled: true
  initialDelaySeconds: 15
  periodSeconds: 5

startupProbe:
  enabled: true
  initialDelaySeconds: 10
  periodSeconds: 5

# No resource limits
resources: {}
